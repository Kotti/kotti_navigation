<div class="${use_container_class and 'container' or None}"
     id="navigation-tree">
  <ul class="${nav_class}">
    <li tal:condition="show_menu and context.parent and location == 'top'"
        tal:replace="api.render_view('navigation-widget-menu-top', context=context)" /> 
    <li tal:condition="show_menu and context.parent and location == 'left'"
        tal:replace="api.render_view('navigation-widget-menu-left', context=context)" /> 
    <li tal:condition="show_menu and context.parent and location == 'right'"
        tal:replace="api.render_view('navigation-widget-menu-right', context=context)" /> 
    <li tal:condition="show_menu and context.parent and location == 'abovecontent'"
        tal:replace="api.render_view('navigation-widget-menu-abovecontent', context=context)" /> 
    <li tal:condition="show_menu and context.parent and location == 'belowcontent'"
        tal:replace="api.render_view('navigation-widget-menu-belowcontent', context=context)" /> 
    <li tal:condition="show_menu and context.parent and location == 'beforebodyend'"
        tal:replace="api.render_view('navigation-widget-menu-beforebodyend', context=context)" /> 
    <li tal:condition="show_menu
                       and context.parent
                       and display_type.startswith('ver_')
                       and items" class="divider"></li>
    <li tal:condition="label and context.parent and items" class="nav-header">
      ${label}
    </li>
    <li tal:condition="label and context.parent and items" class="divider">
    </li>
    <li tal:define="active root == request.context and 'active' or ''"
        tal:condition="include_root"
        class="${active}">
      <a href="${api.url(root)}"
         title="${getattr(root, 'description', None)}">
        ${root.title}
      </a>
    </li>
    <tal:items tal:repeat="item items">
      <tal:replace 
        tal:condition="location == 'top'"
        tal:replace="api.render_view('nav-recurse-top', context=item)" />
      <tal:replace 
        tal:condition="location == 'left'"
        tal:replace="api.render_view('nav-recurse-left', context=item)" />
      <tal:replace 
        tal:condition="location == 'right'"
        tal:replace="api.render_view('nav-recurse-right', context=item)" />
      <tal:replace 
        tal:condition="location == 'abovecontent'"
        tal:replace="api.render_view('nav-recurse-abovecontent', context=item)" />
      <tal:replace 
        tal:condition="location == 'belowcontent'"
        tal:replace="api.render_view('nav-recurse-belowcontent', context=item)" />
      <tal:replace 
        tal:condition="location == 'beforebodyend'"
        tal:replace="api.render_view('nav-recurse-beforebodyend', context=item)" />
    </tal:items>
  </ul>
</div>
