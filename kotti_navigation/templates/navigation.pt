<div class="${use_container_class and 'container' or None}"
    id="${display_as_tree and 'navigation-tree' or 'navigation-list'}"
    tal:define="nav_stacked display_as_tree and 'nav-stacked' or ''">
  <ul class="nav nav-pills ${nav_stacked}">
    <li tal:condition="include_root and display_as_tree"
        tal:define="active root == request.context and 'active' or ''"
        class="${active}">
      <a href="${api.url(root)}"
         title="${getattr(root, 'description', None)}">
        ${root.title}
      </a>
    </li>
  </ul>
  <tal:items tal:condition="display_as_tree" tal:repeat="item items">
    <ul class="nav nav-pills ${nav_stacked}">
      <tal:replace tal:replace="api.render_view('nav-tree', context=item)" />
    </ul>
  </tal:items>
  <tal:block tal:condition="not display_as_tree">
    <ul class="nav nav-pills ${nav_stacked}">
      <tal:repeat tal:repeat="item items">
        <li tal:condition="repeat.item.number == 1 and first_list_item_is_label"
            tal:define="active item == context and 'active' or ''"
            class="${active}">
          <a href="#"
             title="${getattr(item, 'description', None)}">
            ${item.title}:
          </a>
        </li>
        <li tal:condition="(repeat.item.number == 1 and not first_list_item_is_label) or repeat.item.number > 1"
            tal:define="active item == context and 'active' or ''"
            class="${active}">
          <a href="${api.url(item)}"
             title="${getattr(item, 'description', None)}">
            ${item.title}
          </a>
        </li>
      </tal:repeat>
    </ul>
  </tal:block>
</div>
